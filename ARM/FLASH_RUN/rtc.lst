   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 4
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"rtc.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "source\\rtc\\rtc.c"
  20              		.section	.text.RTC_Set_Time,"ax",%progbits
  21              		.align	1
  22              		.global	RTC_Set_Time
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	RTC_Set_Time:
  28              	.LVL0:
  29              	.LFB123:
   1:source\rtc/rtc.c **** /********************************************************************************/
   2:source\rtc/rtc.c **** /* rtc.c                                                                        */
   3:source\rtc/rtc.c **** /* STM32F407ZGT6                                                                */
   4:source\rtc/rtc.c **** /* (Lee ChangWoo HL2IRW  hl2irw@daum.net 010-8573-6860)                 	*/
   5:source\rtc/rtc.c **** /* stm32f4x_test								*/
   6:source\rtc/rtc.c **** /********************************************************************************/
   7:source\rtc/rtc.c **** #include "../../hwdefs.h"
   8:source\rtc/rtc.c **** #include "../prototype.h"
   9:source\rtc/rtc.c **** 
  10:source\rtc/rtc.c **** 
  11:source\rtc/rtc.c **** volatile unsigned char rtc_alarm,rtc_wkup;
  12:source\rtc/rtc.c **** const unsigned char table_week [12] = {0,3,3,6,1,4,6,2,5,0,3,5};
  13:source\rtc/rtc.c **** 
  14:source\rtc/rtc.c **** 
  15:source\rtc/rtc.c **** 
  16:source\rtc/rtc.c **** ErrorStatus RTC_Set_Time (unsigned char hour,unsigned char min,unsigned char sec,unsigned char ampm
  17:source\rtc/rtc.c **** {
  30              		.loc 1 17 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 8
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  18:source\rtc/rtc.c ****       RTC_TimeTypeDef RTC_TimeTypeInitStructure;
  34              		.loc 1 18 7 view .LVU1
  19:source\rtc/rtc.c ****       RTC_TimeTypeInitStructure.RTC_Hours = hour;
  35              		.loc 1 19 7 view .LVU2
  17:source\rtc/rtc.c ****       RTC_TimeTypeDef RTC_TimeTypeInitStructure;
  36              		.loc 1 17 1 is_stmt 0 view .LVU3
  37 0000 07B5     		push	{r0, r1, r2, lr}
  38              		.cfi_def_cfa_offset 16
  39              		.cfi_offset 14, -4
  40              		.loc 1 19 43 view .LVU4
  41 0002 8DF80400 		strb	r0, [sp, #4]
  20:source\rtc/rtc.c ****       RTC_TimeTypeInitStructure.RTC_Minutes = min;
  42              		.loc 1 20 7 is_stmt 1 view .LVU5
  43              		.loc 1 20 45 is_stmt 0 view .LVU6
  44 0006 8DF80510 		strb	r1, [sp, #5]
  21:source\rtc/rtc.c ****       RTC_TimeTypeInitStructure.RTC_Seconds = sec;
  45              		.loc 1 21 7 is_stmt 1 view .LVU7
  22:source\rtc/rtc.c ****       RTC_TimeTypeInitStructure.RTC_H12 = ampm;
  23:source\rtc/rtc.c ****       return RTC_SetTime(RTC_Format_BIN,&RTC_TimeTypeInitStructure);
  46              		.loc 1 23 14 is_stmt 0 view .LVU8
  47 000a 0020     		movs	r0, #0
  48              	.LVL1:
  49              		.loc 1 23 14 view .LVU9
  50 000c 01A9     		add	r1, sp, #4
  51              	.LVL2:
  21:source\rtc/rtc.c ****       RTC_TimeTypeInitStructure.RTC_Seconds = sec;
  52              		.loc 1 21 45 view .LVU10
  53 000e 8DF80620 		strb	r2, [sp, #6]
  22:source\rtc/rtc.c ****       RTC_TimeTypeInitStructure.RTC_H12 = ampm;
  54              		.loc 1 22 7 is_stmt 1 view .LVU11
  22:source\rtc/rtc.c ****       RTC_TimeTypeInitStructure.RTC_H12 = ampm;
  55              		.loc 1 22 41 is_stmt 0 view .LVU12
  56 0012 8DF80730 		strb	r3, [sp, #7]
  57              		.loc 1 23 7 is_stmt 1 view .LVU13
  58              		.loc 1 23 14 is_stmt 0 view .LVU14
  59 0016 FFF7FEFF 		bl	RTC_SetTime
  60              	.LVL3:
  24:source\rtc/rtc.c **** 
  25:source\rtc/rtc.c **** }
  61              		.loc 1 25 1 view .LVU15
  62 001a 03B0     		add	sp, sp, #12
  63              		.cfi_def_cfa_offset 4
  64              		@ sp needed
  65 001c 5DF804FB 		ldr	pc, [sp], #4
  66              		.cfi_endproc
  67              	.LFE123:
  69              		.section	.text.RTC_Set_Date,"ax",%progbits
  70              		.align	1
  71              		.global	RTC_Set_Date
  72              		.syntax unified
  73              		.thumb
  74              		.thumb_func
  76              	RTC_Set_Date:
  77              	.LVL4:
  78              	.LFB124:
  26:source\rtc/rtc.c **** 
  27:source\rtc/rtc.c **** 
  28:source\rtc/rtc.c **** ErrorStatus RTC_Set_Date (unsigned char year,unsigned char month,unsigned char date,unsigned char w
  29:source\rtc/rtc.c **** {
  79              		.loc 1 29 1 is_stmt 1 view -0
  80              		.cfi_startproc
  81              		@ args = 0, pretend = 0, frame = 8
  82              		@ frame_needed = 0, uses_anonymous_args = 0
  30:source\rtc/rtc.c **** 
  31:source\rtc/rtc.c ****       RTC_DateTypeDef RTC_DateTypeInitStructure;
  83              		.loc 1 31 7 view .LVU17
  32:source\rtc/rtc.c ****       RTC_DateTypeInitStructure.RTC_Date = date;
  84              		.loc 1 32 7 view .LVU18
  29:source\rtc/rtc.c **** 
  85              		.loc 1 29 1 is_stmt 0 view .LVU19
  86 0000 07B5     		push	{r0, r1, r2, lr}
  87              		.cfi_def_cfa_offset 16
  88              		.cfi_offset 14, -4
  33:source\rtc/rtc.c ****       RTC_DateTypeInitStructure.RTC_Month = month;
  89              		.loc 1 33 43 view .LVU20
  90 0002 8DF80510 		strb	r1, [sp, #5]
  34:source\rtc/rtc.c ****       RTC_DateTypeInitStructure.RTC_WeekDay = week;
  35:source\rtc/rtc.c ****       RTC_DateTypeInitStructure.RTC_Year = year;
  91              		.loc 1 35 42 view .LVU21
  92 0006 8DF80700 		strb	r0, [sp, #7]
  36:source\rtc/rtc.c ****       return RTC_SetDate(RTC_Format_BIN,&RTC_DateTypeInitStructure);
  93              		.loc 1 36 14 view .LVU22
  94 000a 01A9     		add	r1, sp, #4
  95              	.LVL5:
  96              		.loc 1 36 14 view .LVU23
  97 000c 0020     		movs	r0, #0
  98              	.LVL6:
  32:source\rtc/rtc.c ****       RTC_DateTypeInitStructure.RTC_Month = month;
  99              		.loc 1 32 42 view .LVU24
 100 000e 8DF80620 		strb	r2, [sp, #6]
  33:source\rtc/rtc.c ****       RTC_DateTypeInitStructure.RTC_WeekDay = week;
 101              		.loc 1 33 7 is_stmt 1 view .LVU25
  34:source\rtc/rtc.c ****       RTC_DateTypeInitStructure.RTC_Year = year;
 102              		.loc 1 34 7 view .LVU26
  34:source\rtc/rtc.c ****       RTC_DateTypeInitStructure.RTC_Year = year;
 103              		.loc 1 34 45 is_stmt 0 view .LVU27
 104 0012 8DF80430 		strb	r3, [sp, #4]
  35:source\rtc/rtc.c ****       return RTC_SetDate(RTC_Format_BIN,&RTC_DateTypeInitStructure);
 105              		.loc 1 35 7 is_stmt 1 view .LVU28
 106              		.loc 1 36 7 view .LVU29
 107              		.loc 1 36 14 is_stmt 0 view .LVU30
 108 0016 FFF7FEFF 		bl	RTC_SetDate
 109              	.LVL7:
  37:source\rtc/rtc.c **** }
 110              		.loc 1 37 1 view .LVU31
 111 001a 03B0     		add	sp, sp, #12
 112              		.cfi_def_cfa_offset 4
 113              		@ sp needed
 114 001c 5DF804FB 		ldr	pc, [sp], #4
 115              		.cfi_endproc
 116              	.LFE124:
 118              		.section	.text.RTC_Get_Time,"ax",%progbits
 119              		.align	1
 120              		.global	RTC_Get_Time
 121              		.syntax unified
 122              		.thumb
 123              		.thumb_func
 125              	RTC_Get_Time:
 126              	.LVL8:
 127              	.LFB125:
  38:source\rtc/rtc.c **** 
  39:source\rtc/rtc.c **** 
  40:source\rtc/rtc.c **** void RTC_Get_Time (unsigned char *hour,unsigned char *min,unsigned char *sec,unsigned char *ampm)
  41:source\rtc/rtc.c **** {
 128              		.loc 1 41 1 is_stmt 1 view -0
 129              		.cfi_startproc
 130              		@ args = 0, pretend = 0, frame = 8
 131              		@ frame_needed = 0, uses_anonymous_args = 0
  42:source\rtc/rtc.c ****       RTC_TimeTypeDef RTC_TimeTypeInitStructure;
 132              		.loc 1 42 7 view .LVU33
  43:source\rtc/rtc.c ****       RTC_GetTime(RTC_Format_BIN,&RTC_TimeTypeInitStructure);
 133              		.loc 1 43 7 view .LVU34
  41:source\rtc/rtc.c ****       RTC_TimeTypeDef RTC_TimeTypeInitStructure;
 134              		.loc 1 41 1 is_stmt 0 view .LVU35
 135 0000 F7B5     		push	{r0, r1, r2, r4, r5, r6, r7, lr}
 136              		.cfi_def_cfa_offset 32
 137              		.cfi_offset 4, -20
 138              		.cfi_offset 5, -16
 139              		.cfi_offset 6, -12
 140              		.cfi_offset 7, -8
 141              		.cfi_offset 14, -4
  41:source\rtc/rtc.c ****       RTC_TimeTypeDef RTC_TimeTypeInitStructure;
 142              		.loc 1 41 1 view .LVU36
 143 0002 0746     		mov	r7, r0
 144 0004 0E46     		mov	r6, r1
 145              		.loc 1 43 7 view .LVU37
 146 0006 0020     		movs	r0, #0
 147              	.LVL9:
 148              		.loc 1 43 7 view .LVU38
 149 0008 01A9     		add	r1, sp, #4
 150              	.LVL10:
  41:source\rtc/rtc.c ****       RTC_TimeTypeDef RTC_TimeTypeInitStructure;
 151              		.loc 1 41 1 view .LVU39
 152 000a 1C46     		mov	r4, r3
 153 000c 1546     		mov	r5, r2
 154              		.loc 1 43 7 view .LVU40
 155 000e FFF7FEFF 		bl	RTC_GetTime
 156              	.LVL11:
  44:source\rtc/rtc.c ****       *hour = RTC_TimeTypeInitStructure.RTC_Hours;
 157              		.loc 1 44 7 is_stmt 1 view .LVU41
 158              		.loc 1 44 13 is_stmt 0 view .LVU42
 159 0012 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 160 0016 3B70     		strb	r3, [r7]
  45:source\rtc/rtc.c ****       *min = RTC_TimeTypeInitStructure.RTC_Minutes;
 161              		.loc 1 45 7 is_stmt 1 view .LVU43
 162              		.loc 1 45 12 is_stmt 0 view .LVU44
 163 0018 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 164 001c 3370     		strb	r3, [r6]
  46:source\rtc/rtc.c ****       *sec = RTC_TimeTypeInitStructure.RTC_Seconds;
 165              		.loc 1 46 7 is_stmt 1 view .LVU45
 166              		.loc 1 46 12 is_stmt 0 view .LVU46
 167 001e 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 168 0022 2B70     		strb	r3, [r5]
  47:source\rtc/rtc.c ****       *ampm = RTC_TimeTypeInitStructure.RTC_H12;
 169              		.loc 1 47 7 is_stmt 1 view .LVU47
 170              		.loc 1 47 13 is_stmt 0 view .LVU48
 171 0024 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 172 0028 2370     		strb	r3, [r4]
  48:source\rtc/rtc.c **** }
 173              		.loc 1 48 1 view .LVU49
 174 002a 03B0     		add	sp, sp, #12
 175              		.cfi_def_cfa_offset 20
 176              		@ sp needed
 177 002c F0BD     		pop	{r4, r5, r6, r7, pc}
 178              		.loc 1 48 1 view .LVU50
 179              		.cfi_endproc
 180              	.LFE125:
 182              		.section	.text.RTC_Get_Date,"ax",%progbits
 183              		.align	1
 184              		.global	RTC_Get_Date
 185              		.syntax unified
 186              		.thumb
 187              		.thumb_func
 189              	RTC_Get_Date:
 190              	.LVL12:
 191              	.LFB126:
  49:source\rtc/rtc.c **** 
  50:source\rtc/rtc.c **** 
  51:source\rtc/rtc.c **** void RTC_Get_Date (unsigned char *year,unsigned char *month,unsigned char *date,unsigned char *week
  52:source\rtc/rtc.c **** {
 192              		.loc 1 52 1 is_stmt 1 view -0
 193              		.cfi_startproc
 194              		@ args = 0, pretend = 0, frame = 8
 195              		@ frame_needed = 0, uses_anonymous_args = 0
  53:source\rtc/rtc.c ****       RTC_DateTypeDef RTC_DateStruct;
 196              		.loc 1 53 7 view .LVU52
  54:source\rtc/rtc.c ****       RTC_GetDate(RTC_Format_BIN, &RTC_DateStruct);
 197              		.loc 1 54 7 view .LVU53
  52:source\rtc/rtc.c ****       RTC_DateTypeDef RTC_DateStruct;
 198              		.loc 1 52 1 is_stmt 0 view .LVU54
 199 0000 F7B5     		push	{r0, r1, r2, r4, r5, r6, r7, lr}
 200              		.cfi_def_cfa_offset 32
 201              		.cfi_offset 4, -20
 202              		.cfi_offset 5, -16
 203              		.cfi_offset 6, -12
 204              		.cfi_offset 7, -8
 205              		.cfi_offset 14, -4
  52:source\rtc/rtc.c ****       RTC_DateTypeDef RTC_DateStruct;
 206              		.loc 1 52 1 view .LVU55
 207 0002 0746     		mov	r7, r0
 208 0004 0E46     		mov	r6, r1
 209              		.loc 1 54 7 view .LVU56
 210 0006 0020     		movs	r0, #0
 211              	.LVL13:
 212              		.loc 1 54 7 view .LVU57
 213 0008 01A9     		add	r1, sp, #4
 214              	.LVL14:
  52:source\rtc/rtc.c ****       RTC_DateTypeDef RTC_DateStruct;
 215              		.loc 1 52 1 view .LVU58
 216 000a 1C46     		mov	r4, r3
 217 000c 1546     		mov	r5, r2
 218              		.loc 1 54 7 view .LVU59
 219 000e FFF7FEFF 		bl	RTC_GetDate
 220              	.LVL15:
  55:source\rtc/rtc.c ****       *year = RTC_DateStruct.RTC_Year;
 221              		.loc 1 55 7 is_stmt 1 view .LVU60
 222              		.loc 1 55 13 is_stmt 0 view .LVU61
 223 0012 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 224 0016 3B70     		strb	r3, [r7]
  56:source\rtc/rtc.c ****       *month = RTC_DateStruct.RTC_Month;
 225              		.loc 1 56 7 is_stmt 1 view .LVU62
 226              		.loc 1 56 14 is_stmt 0 view .LVU63
 227 0018 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 228 001c 3370     		strb	r3, [r6]
  57:source\rtc/rtc.c ****       *date = RTC_DateStruct.RTC_Date;
 229              		.loc 1 57 7 is_stmt 1 view .LVU64
 230              		.loc 1 57 13 is_stmt 0 view .LVU65
 231 001e 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 232 0022 2B70     		strb	r3, [r5]
  58:source\rtc/rtc.c ****       *week = RTC_DateStruct.RTC_WeekDay;
 233              		.loc 1 58 7 is_stmt 1 view .LVU66
 234              		.loc 1 58 13 is_stmt 0 view .LVU67
 235 0024 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 236 0028 2370     		strb	r3, [r4]
  59:source\rtc/rtc.c **** }
 237              		.loc 1 59 1 view .LVU68
 238 002a 03B0     		add	sp, sp, #12
 239              		.cfi_def_cfa_offset 20
 240              		@ sp needed
 241 002c F0BD     		pop	{r4, r5, r6, r7, pc}
 242              		.loc 1 59 1 view .LVU69
 243              		.cfi_endproc
 244              	.LFE126:
 246              		.section	.text.rtc_init,"ax",%progbits
 247              		.align	1
 248              		.global	rtc_init
 249              		.syntax unified
 250              		.thumb
 251              		.thumb_func
 253              	rtc_init:
 254              	.LFB127:
  60:source\rtc/rtc.c **** 
  61:source\rtc/rtc.c **** 
  62:source\rtc/rtc.c **** unsigned char rtc_init (void)
  63:source\rtc/rtc.c **** {
 255              		.loc 1 63 1 is_stmt 1 view -0
 256              		.cfi_startproc
 257              		@ args = 0, pretend = 0, frame = 16
 258              		@ frame_needed = 0, uses_anonymous_args = 0
  64:source\rtc/rtc.c ****       RTC_InitTypeDef RTC_InitStructure;
 259              		.loc 1 64 7 view .LVU71
  65:source\rtc/rtc.c ****       unsigned short retry = 0x1FFF;
 260              		.loc 1 65 7 view .LVU72
 261              	.LVL16:
  66:source\rtc/rtc.c ****       RCC_APB1PeriphClockCmd(RCC_APB1Periph_PWR, ENABLE);
 262              		.loc 1 66 7 view .LVU73
  63:source\rtc/rtc.c ****       RTC_InitTypeDef RTC_InitStructure;
 263              		.loc 1 63 1 is_stmt 0 view .LVU74
 264 0000 1FB5     		push	{r0, r1, r2, r3, r4, lr}
 265              		.cfi_def_cfa_offset 24
 266              		.cfi_offset 4, -8
 267              		.cfi_offset 14, -4
 268              		.loc 1 66 7 view .LVU75
 269 0002 0121     		movs	r1, #1
 270 0004 4FF08050 		mov	r0, #268435456
 271 0008 FFF7FEFF 		bl	RCC_APB1PeriphClockCmd
 272              	.LVL17:
  67:source\rtc/rtc.c ****       PWR_BackupAccessCmd(ENABLE);
 273              		.loc 1 67 7 is_stmt 1 view .LVU76
 274 000c 0120     		movs	r0, #1
 275 000e FFF7FEFF 		bl	PWR_BackupAccessCmd
 276              	.LVL18:
  68:source\rtc/rtc.c ****       if (RTC_ReadBackupRegister(RTC_BKP_DR0) != 0x5050) {
 277              		.loc 1 68 7 view .LVU77
 278              		.loc 1 68 11 is_stmt 0 view .LVU78
 279 0012 0020     		movs	r0, #0
 280 0014 FFF7FEFF 		bl	RTC_ReadBackupRegister
 281              	.LVL19:
 282              		.loc 1 68 10 view .LVU79
 283 0018 45F25003 		movw	r3, #20560
 284 001c 9842     		cmp	r0, r3
 285 001e 02D1     		bne	.L6
 286              	.LVL20:
 287              	.L10:
  69:source\rtc/rtc.c **** 	 RCC_LSEConfig(RCC_LSE_ON);
  70:source\rtc/rtc.c **** 	 while (RCC_GetFlagStatus(RCC_FLAG_LSERDY) == RESET) {
  71:source\rtc/rtc.c **** 	       retry++;
  72:source\rtc/rtc.c **** 	       wait_ms(10);
  73:source\rtc/rtc.c **** 	 }
  74:source\rtc/rtc.c **** 	 if (retry == 0) return 1;
  75:source\rtc/rtc.c **** 	 RCC_RTCCLKConfig(RCC_RTCCLKSource_LSE);
  76:source\rtc/rtc.c **** 	 RCC_RTCCLKCmd(ENABLE);
  77:source\rtc/rtc.c ****          RTC_InitStructure.RTC_AsynchPrediv = 0x7F;
  78:source\rtc/rtc.c ****          RTC_InitStructure.RTC_SynchPrediv = 0xFF;
  79:source\rtc/rtc.c ****          RTC_InitStructure.RTC_HourFormat = RTC_HourFormat_24;
  80:source\rtc/rtc.c ****          RTC_Init(&RTC_InitStructure);
  81:source\rtc/rtc.c **** 	 RTC_Set_Time(23,59,56,RTC_H12_AM);
  82:source\rtc/rtc.c **** 	 RTC_Set_Date(23,11,13,2);
  83:source\rtc/rtc.c **** 	 RTC_WriteBackupRegister(RTC_BKP_DR0,0x5050);
  84:source\rtc/rtc.c ****      }
  85:source\rtc/rtc.c ****      return 0;
 288              		.loc 1 85 13 view .LVU80
 289 0020 0020     		movs	r0, #0
 290              	.L7:
  86:source\rtc/rtc.c **** }
 291              		.loc 1 86 1 view .LVU81
 292 0022 04B0     		add	sp, sp, #16
 293              		.cfi_remember_state
 294              		.cfi_def_cfa_offset 8
 295              		@ sp needed
 296 0024 10BD     		pop	{r4, pc}
 297              	.LVL21:
 298              	.L6:
 299              		.cfi_restore_state
  69:source\rtc/rtc.c **** 	 RCC_LSEConfig(RCC_LSE_ON);
 300              		.loc 1 69 3 is_stmt 1 view .LVU82
 301 0026 0120     		movs	r0, #1
 302 0028 FFF7FEFF 		bl	RCC_LSEConfig
 303              	.LVL22:
  70:source\rtc/rtc.c **** 	       retry++;
 304              		.loc 1 70 3 view .LVU83
  65:source\rtc/rtc.c ****       RCC_APB1PeriphClockCmd(RCC_APB1Periph_PWR, ENABLE);
 305              		.loc 1 65 22 is_stmt 0 view .LVU84
 306 002c 41F6FF74 		movw	r4, #8191
 307              	.LVL23:
 308              	.L8:
  70:source\rtc/rtc.c **** 	       retry++;
 309              		.loc 1 70 45 is_stmt 1 view .LVU85
  70:source\rtc/rtc.c **** 	       retry++;
 310              		.loc 1 70 10 is_stmt 0 view .LVU86
 311 0030 4120     		movs	r0, #65
 312 0032 FFF7FEFF 		bl	RCC_GetFlagStatus
 313              	.LVL24:
  70:source\rtc/rtc.c **** 	       retry++;
 314              		.loc 1 70 45 view .LVU87
 315 0036 10B3     		cbz	r0, .L9
  74:source\rtc/rtc.c **** 	 RCC_RTCCLKConfig(RCC_RTCCLKSource_LSE);
 316              		.loc 1 74 3 is_stmt 1 view .LVU88
  74:source\rtc/rtc.c **** 	 RCC_RTCCLKConfig(RCC_RTCCLKSource_LSE);
 317              		.loc 1 74 6 is_stmt 0 view .LVU89
 318 0038 3CB3     		cbz	r4, .L11
  75:source\rtc/rtc.c **** 	 RCC_RTCCLKCmd(ENABLE);
 319              		.loc 1 75 3 is_stmt 1 view .LVU90
 320 003a 4FF48070 		mov	r0, #256
 321 003e FFF7FEFF 		bl	RCC_RTCCLKConfig
 322              	.LVL25:
  76:source\rtc/rtc.c ****          RTC_InitStructure.RTC_AsynchPrediv = 0x7F;
 323              		.loc 1 76 3 view .LVU91
 324 0042 0120     		movs	r0, #1
 325 0044 FFF7FEFF 		bl	RCC_RTCCLKCmd
 326              	.LVL26:
  77:source\rtc/rtc.c ****          RTC_InitStructure.RTC_SynchPrediv = 0xFF;
 327              		.loc 1 77 10 view .LVU92
  79:source\rtc/rtc.c ****          RTC_Init(&RTC_InitStructure);
 328              		.loc 1 79 43 is_stmt 0 view .LVU93
 329 0048 0024     		movs	r4, #0
 330              	.LVL27:
  78:source\rtc/rtc.c ****          RTC_InitStructure.RTC_HourFormat = RTC_HourFormat_24;
 331              		.loc 1 78 44 view .LVU94
 332 004a 7F22     		movs	r2, #127
 333 004c FF23     		movs	r3, #255
  80:source\rtc/rtc.c **** 	 RTC_Set_Time(23,59,56,RTC_H12_AM);
 334              		.loc 1 80 10 view .LVU95
 335 004e 01A8     		add	r0, sp, #4
  78:source\rtc/rtc.c ****          RTC_InitStructure.RTC_HourFormat = RTC_HourFormat_24;
 336              		.loc 1 78 44 view .LVU96
 337 0050 CDE90223 		strd	r2, r3, [sp, #8]
  79:source\rtc/rtc.c ****          RTC_Init(&RTC_InitStructure);
 338              		.loc 1 79 10 is_stmt 1 view .LVU97
  79:source\rtc/rtc.c ****          RTC_Init(&RTC_InitStructure);
 339              		.loc 1 79 43 is_stmt 0 view .LVU98
 340 0054 0194     		str	r4, [sp, #4]
  80:source\rtc/rtc.c **** 	 RTC_Set_Time(23,59,56,RTC_H12_AM);
 341              		.loc 1 80 10 is_stmt 1 view .LVU99
 342 0056 FFF7FEFF 		bl	RTC_Init
 343              	.LVL28:
  81:source\rtc/rtc.c **** 	 RTC_Set_Date(23,11,13,2);
 344              		.loc 1 81 3 view .LVU100
 345 005a 2346     		mov	r3, r4
 346 005c 3822     		movs	r2, #56
 347 005e 3B21     		movs	r1, #59
 348 0060 1720     		movs	r0, #23
 349 0062 FFF7FEFF 		bl	RTC_Set_Time
 350              	.LVL29:
  82:source\rtc/rtc.c **** 	 RTC_WriteBackupRegister(RTC_BKP_DR0,0x5050);
 351              		.loc 1 82 3 view .LVU101
 352 0066 0223     		movs	r3, #2
 353 0068 0D22     		movs	r2, #13
 354 006a 0B21     		movs	r1, #11
 355 006c 1720     		movs	r0, #23
 356 006e FFF7FEFF 		bl	RTC_Set_Date
 357              	.LVL30:
  83:source\rtc/rtc.c ****      }
 358              		.loc 1 83 3 view .LVU102
 359 0072 45F25001 		movw	r1, #20560
 360 0076 2046     		mov	r0, r4
 361 0078 FFF7FEFF 		bl	RTC_WriteBackupRegister
 362              	.LVL31:
 363 007c D0E7     		b	.L10
 364              	.LVL32:
 365              	.L9:
  71:source\rtc/rtc.c **** 	       wait_ms(10);
 366              		.loc 1 71 9 view .LVU103
  71:source\rtc/rtc.c **** 	       wait_ms(10);
 367              		.loc 1 71 14 is_stmt 0 view .LVU104
 368 007e 0134     		adds	r4, r4, #1
 369              	.LVL33:
  72:source\rtc/rtc.c **** 	 }
 370              		.loc 1 72 9 view .LVU105
 371 0080 0A20     		movs	r0, #10
  71:source\rtc/rtc.c **** 	       wait_ms(10);
 372              		.loc 1 71 14 view .LVU106
 373 0082 A4B2     		uxth	r4, r4
 374              	.LVL34:
  72:source\rtc/rtc.c **** 	 }
 375              		.loc 1 72 9 is_stmt 1 view .LVU107
 376 0084 FFF7FEFF 		bl	wait_ms
 377              	.LVL35:
 378 0088 D2E7     		b	.L8
 379              	.L11:
  74:source\rtc/rtc.c **** 	 RCC_RTCCLKConfig(RCC_RTCCLKSource_LSE);
 380              		.loc 1 74 26 is_stmt 0 view .LVU108
 381 008a 0120     		movs	r0, #1
 382 008c C9E7     		b	.L7
 383              		.cfi_endproc
 384              	.LFE127:
 386              		.section	.text.RTC_Set_AlarmA,"ax",%progbits
 387              		.align	1
 388              		.global	RTC_Set_AlarmA
 389              		.syntax unified
 390              		.thumb
 391              		.thumb_func
 393              	RTC_Set_AlarmA:
 394              	.LVL36:
 395              	.LFB128:
  87:source\rtc/rtc.c **** 
  88:source\rtc/rtc.c **** 
  89:source\rtc/rtc.c **** void RTC_Set_AlarmA (unsigned char week,unsigned char hour,unsigned char min,unsigned char sec)
  90:source\rtc/rtc.c **** {
 396              		.loc 1 90 1 is_stmt 1 view -0
 397              		.cfi_startproc
 398              		@ args = 0, pretend = 0, frame = 32
 399              		@ frame_needed = 0, uses_anonymous_args = 0
  91:source\rtc/rtc.c ****       EXTI_InitTypeDef EXTI_InitStructure;
 400              		.loc 1 91 7 view .LVU110
  92:source\rtc/rtc.c ****       RTC_AlarmTypeDef RTC_AlarmTypeInitStructure;
 401              		.loc 1 92 7 view .LVU111
  93:source\rtc/rtc.c ****       RTC_TimeTypeDef RTC_TimeTypeInitStructure;
 402              		.loc 1 93 7 view .LVU112
  94:source\rtc/rtc.c ****       NVIC_InitTypeDef NVIC_InitStructure;
 403              		.loc 1 94 7 view .LVU113
  95:source\rtc/rtc.c ****       RTC_AlarmCmd(RTC_Alarm_A,DISABLE);
 404              		.loc 1 95 7 view .LVU114
  90:source\rtc/rtc.c ****       EXTI_InitTypeDef EXTI_InitStructure;
 405              		.loc 1 90 1 is_stmt 0 view .LVU115
 406 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 407              		.cfi_def_cfa_offset 20
 408              		.cfi_offset 4, -20
 409              		.cfi_offset 5, -16
 410              		.cfi_offset 6, -12
 411              		.cfi_offset 7, -8
 412              		.cfi_offset 14, -4
 413 0002 0746     		mov	r7, r0
 414 0004 89B0     		sub	sp, sp, #36
 415              		.cfi_def_cfa_offset 56
  90:source\rtc/rtc.c ****       EXTI_InitTypeDef EXTI_InitStructure;
 416              		.loc 1 90 1 view .LVU116
 417 0006 0E46     		mov	r6, r1
 418              		.loc 1 95 7 view .LVU117
 419 0008 4FF48070 		mov	r0, #256
 420              	.LVL37:
 421              		.loc 1 95 7 view .LVU118
 422 000c 0021     		movs	r1, #0
 423              	.LVL38:
  90:source\rtc/rtc.c ****       EXTI_InitTypeDef EXTI_InitStructure;
 424              		.loc 1 90 1 view .LVU119
 425 000e 1546     		mov	r5, r2
 426 0010 1C46     		mov	r4, r3
 427              		.loc 1 95 7 view .LVU120
 428 0012 FFF7FEFF 		bl	RTC_AlarmCmd
 429              	.LVL39:
  96:source\rtc/rtc.c ****       RTC_TimeTypeInitStructure.RTC_Hours = hour;
 430              		.loc 1 96 7 is_stmt 1 view .LVU121
  97:source\rtc/rtc.c ****       RTC_TimeTypeInitStructure.RTC_Minutes = min;
 431              		.loc 1 97 7 view .LVU122
  98:source\rtc/rtc.c ****       RTC_TimeTypeInitStructure.RTC_Seconds = sec;
 432              		.loc 1 98 7 view .LVU123
  99:source\rtc/rtc.c ****       RTC_TimeTypeInitStructure.RTC_H12 = RTC_H12_AM;
 433              		.loc 1 99 7 view .LVU124
 100:source\rtc/rtc.c ****       RTC_AlarmTypeInitStructure.RTC_AlarmDateWeekDay = week;
 434              		.loc 1 100 7 view .LVU125
 101:source\rtc/rtc.c ****       RTC_AlarmTypeInitStructure.RTC_AlarmDateWeekDaySel = RTC_AlarmDateWeekDaySel_WeekDay;
 102:source\rtc/rtc.c ****       RTC_AlarmTypeInitStructure.RTC_AlarmMask = RTC_AlarmMask_None;
 103:source\rtc/rtc.c ****       RTC_AlarmTypeInitStructure.RTC_AlarmTime = RTC_TimeTypeInitStructure;
 104:source\rtc/rtc.c ****       RTC_SetAlarm(RTC_Format_BIN,RTC_Alarm_A,&RTC_AlarmTypeInitStructure);
 435              		.loc 1 104 7 is_stmt 0 view .LVU126
 436 0016 04AA     		add	r2, sp, #16
 102:source\rtc/rtc.c ****       RTC_AlarmTypeInitStructure.RTC_AlarmTime = RTC_TimeTypeInitStructure;
 437              		.loc 1 102 48 view .LVU127
 438 0018 4FF08043 		mov	r3, #1073741824
 439 001c 0020     		movs	r0, #0
 440              		.loc 1 104 7 view .LVU128
 441 001e 4FF48071 		mov	r1, #256
 102:source\rtc/rtc.c ****       RTC_AlarmTypeInitStructure.RTC_AlarmTime = RTC_TimeTypeInitStructure;
 442              		.loc 1 102 48 view .LVU129
 443 0022 CDE90503 		strd	r0, r3, [sp, #20]
 103:source\rtc/rtc.c ****       RTC_SetAlarm(RTC_Format_BIN,RTC_Alarm_A,&RTC_AlarmTypeInitStructure);
 444              		.loc 1 103 48 view .LVU130
 445 0026 8DF81300 		strb	r0, [sp, #19]
 100:source\rtc/rtc.c ****       RTC_AlarmTypeInitStructure.RTC_AlarmDateWeekDaySel = RTC_AlarmDateWeekDaySel_WeekDay;
 446              		.loc 1 100 55 view .LVU131
 447 002a 8DF81C70 		strb	r7, [sp, #28]
 101:source\rtc/rtc.c ****       RTC_AlarmTypeInitStructure.RTC_AlarmMask = RTC_AlarmMask_None;
 448              		.loc 1 101 7 is_stmt 1 view .LVU132
 103:source\rtc/rtc.c ****       RTC_SetAlarm(RTC_Format_BIN,RTC_Alarm_A,&RTC_AlarmTypeInitStructure);
 449              		.loc 1 103 7 view .LVU133
 450              		.loc 1 104 7 view .LVU134
 103:source\rtc/rtc.c ****       RTC_SetAlarm(RTC_Format_BIN,RTC_Alarm_A,&RTC_AlarmTypeInitStructure);
 451              		.loc 1 103 48 is_stmt 0 view .LVU135
 452 002e 8DF81060 		strb	r6, [sp, #16]
 453 0032 8DF81150 		strb	r5, [sp, #17]
 454 0036 8DF81240 		strb	r4, [sp, #18]
 455              		.loc 1 104 7 view .LVU136
 456 003a FFF7FEFF 		bl	RTC_SetAlarm
 457              	.LVL40:
 105:source\rtc/rtc.c ****       RTC_ClearITPendingBit(RTC_IT_ALRA);
 458              		.loc 1 105 7 is_stmt 1 view .LVU137
 459 003e 4FF48050 		mov	r0, #4096
 460 0042 FFF7FEFF 		bl	RTC_ClearITPendingBit
 461              	.LVL41:
 106:source\rtc/rtc.c ****       EXTI_ClearITPendingBit(EXTI_Line17);
 462              		.loc 1 106 7 view .LVU138
 463 0046 4FF40030 		mov	r0, #131072
 464 004a FFF7FEFF 		bl	EXTI_ClearITPendingBit
 465              	.LVL42:
 107:source\rtc/rtc.c ****       RTC_ITConfig(RTC_IT_ALRA,ENABLE);
 466              		.loc 1 107 7 view .LVU139
 467 004e 0121     		movs	r1, #1
 468 0050 4FF48050 		mov	r0, #4096
 469 0054 FFF7FEFF 		bl	RTC_ITConfig
 470              	.LVL43:
 108:source\rtc/rtc.c ****       RTC_AlarmCmd(RTC_Alarm_A,ENABLE);
 471              		.loc 1 108 7 view .LVU140
 472 0058 0121     		movs	r1, #1
 473 005a 4FF48070 		mov	r0, #256
 474 005e FFF7FEFF 		bl	RTC_AlarmCmd
 475              	.LVL44:
 109:source\rtc/rtc.c ****       EXTI_InitStructure.EXTI_Line = EXTI_Line17;
 476              		.loc 1 109 7 view .LVU141
 110:source\rtc/rtc.c ****       EXTI_InitStructure.EXTI_Mode = EXTI_Mode_Interrupt;
 477              		.loc 1 110 7 view .LVU142
 111:source\rtc/rtc.c ****       EXTI_InitStructure.EXTI_Trigger = EXTI_Trigger_Rising;
 478              		.loc 1 111 7 view .LVU143
 112:source\rtc/rtc.c ****       EXTI_InitStructure.EXTI_LineCmd = ENABLE;
 479              		.loc 1 112 7 view .LVU144
 109:source\rtc/rtc.c ****       EXTI_InitStructure.EXTI_Mode = EXTI_Mode_Interrupt;
 480              		.loc 1 109 36 is_stmt 0 view .LVU145
 481 0062 4FF40033 		mov	r3, #131072
 482 0066 0293     		str	r3, [sp, #8]
 110:source\rtc/rtc.c ****       EXTI_InitStructure.EXTI_Trigger = EXTI_Trigger_Rising;
 483              		.loc 1 110 36 view .LVU146
 484 0068 4FF40063 		mov	r3, #2048
 485 006c ADF80C30 		strh	r3, [sp, #12]	@ movhi
 113:source\rtc/rtc.c ****       EXTI_Init(&EXTI_InitStructure);
 486              		.loc 1 113 7 view .LVU147
 487 0070 02A8     		add	r0, sp, #8
 112:source\rtc/rtc.c ****       EXTI_Init(&EXTI_InitStructure);
 488              		.loc 1 112 39 view .LVU148
 489 0072 0123     		movs	r3, #1
 490 0074 8DF80E30 		strb	r3, [sp, #14]
 491              		.loc 1 113 7 is_stmt 1 view .LVU149
 492 0078 FFF7FEFF 		bl	EXTI_Init
 493              	.LVL45:
 114:source\rtc/rtc.c ****       NVIC_InitStructure.NVIC_IRQChannel = RTC_Alarm_IRQn;
 494              		.loc 1 114 7 view .LVU150
 115:source\rtc/rtc.c ****       NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0x03;
 495              		.loc 1 115 7 view .LVU151
 116:source\rtc/rtc.c ****       NVIC_InitStructure.NVIC_IRQChannelSubPriority =  0;
 496              		.loc 1 116 7 view .LVU152
 117:source\rtc/rtc.c ****       NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
 497              		.loc 1 117 7 view .LVU153
 114:source\rtc/rtc.c ****       NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0x03;
 498              		.loc 1 114 42 is_stmt 0 view .LVU154
 499 007c 034B     		ldr	r3, .L13
 500 007e 0193     		str	r3, [sp, #4]
 118:source\rtc/rtc.c ****       NVIC_Init(&NVIC_InitStructure);
 501              		.loc 1 118 7 is_stmt 1 view .LVU155
 502 0080 01A8     		add	r0, sp, #4
 503 0082 FFF7FEFF 		bl	NVIC_Init
 504              	.LVL46:
 119:source\rtc/rtc.c **** }
 505              		.loc 1 119 1 is_stmt 0 view .LVU156
 506 0086 09B0     		add	sp, sp, #36
 507              		.cfi_def_cfa_offset 20
 508              		@ sp needed
 509 0088 F0BD     		pop	{r4, r5, r6, r7, pc}
 510              	.L14:
 511 008a 00BF     		.align	2
 512              	.L13:
 513 008c 29030001 		.word	16778025
 514              		.cfi_endproc
 515              	.LFE128:
 517              		.section	.text.RTC_Set_WakeUp,"ax",%progbits
 518              		.align	1
 519              		.global	RTC_Set_WakeUp
 520              		.syntax unified
 521              		.thumb
 522              		.thumb_func
 524              	RTC_Set_WakeUp:
 525              	.LVL47:
 526              	.LFB129:
 120:source\rtc/rtc.c **** 
 121:source\rtc/rtc.c **** 
 122:source\rtc/rtc.c **** void RTC_Set_WakeUp (unsigned int wksel,unsigned short cnt)
 123:source\rtc/rtc.c **** {
 527              		.loc 1 123 1 is_stmt 1 view -0
 528              		.cfi_startproc
 529              		@ args = 0, pretend = 0, frame = 16
 530              		@ frame_needed = 0, uses_anonymous_args = 0
 124:source\rtc/rtc.c ****       EXTI_InitTypeDef EXTI_InitStructure;
 531              		.loc 1 124 7 view .LVU158
 125:source\rtc/rtc.c ****       NVIC_InitTypeDef NVIC_InitStructure;
 532              		.loc 1 125 7 view .LVU159
 126:source\rtc/rtc.c ****       RTC_WakeUpCmd(DISABLE);
 533              		.loc 1 126 7 view .LVU160
 123:source\rtc/rtc.c ****       EXTI_InitTypeDef EXTI_InitStructure;
 534              		.loc 1 123 1 is_stmt 0 view .LVU161
 535 0000 30B5     		push	{r4, r5, lr}
 536              		.cfi_def_cfa_offset 12
 537              		.cfi_offset 4, -12
 538              		.cfi_offset 5, -8
 539              		.cfi_offset 14, -4
 540 0002 0546     		mov	r5, r0
 541 0004 85B0     		sub	sp, sp, #20
 542              		.cfi_def_cfa_offset 32
 543              		.loc 1 126 7 view .LVU162
 544 0006 0020     		movs	r0, #0
 545              	.LVL48:
 123:source\rtc/rtc.c ****       EXTI_InitTypeDef EXTI_InitStructure;
 546              		.loc 1 123 1 view .LVU163
 547 0008 0C46     		mov	r4, r1
 548              		.loc 1 126 7 view .LVU164
 549 000a FFF7FEFF 		bl	RTC_WakeUpCmd
 550              	.LVL49:
 127:source\rtc/rtc.c ****       RTC_WakeUpClockConfig(wksel);
 551              		.loc 1 127 7 is_stmt 1 view .LVU165
 552 000e 2846     		mov	r0, r5
 553 0010 FFF7FEFF 		bl	RTC_WakeUpClockConfig
 554              	.LVL50:
 128:source\rtc/rtc.c ****       RTC_SetWakeUpCounter(cnt);
 555              		.loc 1 128 7 view .LVU166
 556 0014 2046     		mov	r0, r4
 557 0016 FFF7FEFF 		bl	RTC_SetWakeUpCounter
 558              	.LVL51:
 129:source\rtc/rtc.c ****       RTC_ClearITPendingBit(RTC_IT_WUT);
 559              		.loc 1 129 7 view .LVU167
 560 001a 4FF48040 		mov	r0, #16384
 561 001e FFF7FEFF 		bl	RTC_ClearITPendingBit
 562              	.LVL52:
 130:source\rtc/rtc.c ****       EXTI_ClearITPendingBit(EXTI_Line22);
 563              		.loc 1 130 7 view .LVU168
 564 0022 4FF48000 		mov	r0, #4194304
 565 0026 FFF7FEFF 		bl	EXTI_ClearITPendingBit
 566              	.LVL53:
 131:source\rtc/rtc.c ****       RTC_ITConfig(RTC_IT_WUT,ENABLE);
 567              		.loc 1 131 7 view .LVU169
 568 002a 0121     		movs	r1, #1
 569 002c 4FF48040 		mov	r0, #16384
 570 0030 FFF7FEFF 		bl	RTC_ITConfig
 571              	.LVL54:
 132:source\rtc/rtc.c ****       RTC_WakeUpCmd(ENABLE);
 572              		.loc 1 132 7 view .LVU170
 573 0034 0120     		movs	r0, #1
 574 0036 FFF7FEFF 		bl	RTC_WakeUpCmd
 575              	.LVL55:
 133:source\rtc/rtc.c ****       EXTI_InitStructure.EXTI_Line = EXTI_Line22;
 576              		.loc 1 133 7 view .LVU171
 134:source\rtc/rtc.c ****       EXTI_InitStructure.EXTI_Mode = EXTI_Mode_Interrupt;
 577              		.loc 1 134 7 view .LVU172
 135:source\rtc/rtc.c ****       EXTI_InitStructure.EXTI_Trigger = EXTI_Trigger_Rising;
 578              		.loc 1 135 7 view .LVU173
 136:source\rtc/rtc.c ****       EXTI_InitStructure.EXTI_LineCmd = ENABLE;
 579              		.loc 1 136 7 view .LVU174
 133:source\rtc/rtc.c ****       EXTI_InitStructure.EXTI_Mode = EXTI_Mode_Interrupt;
 580              		.loc 1 133 36 is_stmt 0 view .LVU175
 581 003a 4FF48003 		mov	r3, #4194304
 582 003e 0293     		str	r3, [sp, #8]
 134:source\rtc/rtc.c ****       EXTI_InitStructure.EXTI_Trigger = EXTI_Trigger_Rising;
 583              		.loc 1 134 36 view .LVU176
 584 0040 4FF40063 		mov	r3, #2048
 585 0044 ADF80C30 		strh	r3, [sp, #12]	@ movhi
 137:source\rtc/rtc.c ****       EXTI_Init(&EXTI_InitStructure);
 586              		.loc 1 137 7 view .LVU177
 587 0048 02A8     		add	r0, sp, #8
 136:source\rtc/rtc.c ****       EXTI_Init(&EXTI_InitStructure);
 588              		.loc 1 136 39 view .LVU178
 589 004a 0123     		movs	r3, #1
 590 004c 8DF80E30 		strb	r3, [sp, #14]
 591              		.loc 1 137 7 is_stmt 1 view .LVU179
 592 0050 FFF7FEFF 		bl	EXTI_Init
 593              	.LVL56:
 138:source\rtc/rtc.c ****       NVIC_InitStructure.NVIC_IRQChannel = RTC_WKUP_IRQn;
 594              		.loc 1 138 7 view .LVU180
 139:source\rtc/rtc.c ****       NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0x02;
 595              		.loc 1 139 7 view .LVU181
 140:source\rtc/rtc.c ****       NVIC_InitStructure.NVIC_IRQChannelSubPriority = 0x02;
 596              		.loc 1 140 7 view .LVU182
 141:source\rtc/rtc.c ****       NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
 597              		.loc 1 141 7 view .LVU183
 138:source\rtc/rtc.c ****       NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0x02;
 598              		.loc 1 138 42 is_stmt 0 view .LVU184
 599 0054 034B     		ldr	r3, .L16
 600 0056 0193     		str	r3, [sp, #4]
 142:source\rtc/rtc.c ****       NVIC_Init(&NVIC_InitStructure);
 601              		.loc 1 142 7 is_stmt 1 view .LVU185
 602 0058 01A8     		add	r0, sp, #4
 603 005a FFF7FEFF 		bl	NVIC_Init
 604              	.LVL57:
 143:source\rtc/rtc.c **** }
 605              		.loc 1 143 1 is_stmt 0 view .LVU186
 606 005e 05B0     		add	sp, sp, #20
 607              		.cfi_def_cfa_offset 12
 608              		@ sp needed
 609 0060 30BD     		pop	{r4, r5, pc}
 610              	.LVL58:
 611              	.L17:
 612              		.loc 1 143 1 view .LVU187
 613 0062 00BF     		.align	2
 614              	.L16:
 615 0064 03020201 		.word	16908803
 616              		.cfi_endproc
 617              	.LFE129:
 619              		.section	.text.RTC_Alarm_IRQHandler,"ax",%progbits
 620              		.align	1
 621              		.global	RTC_Alarm_IRQHandler
 622              		.syntax unified
 623              		.thumb
 624              		.thumb_func
 626              	RTC_Alarm_IRQHandler:
 627              	.LFB130:
 144:source\rtc/rtc.c **** 
 145:source\rtc/rtc.c **** 
 146:source\rtc/rtc.c **** void RTC_Alarm_IRQHandler (void)
 147:source\rtc/rtc.c **** {
 628              		.loc 1 147 1 is_stmt 1 view -0
 629              		.cfi_startproc
 630              		@ args = 0, pretend = 0, frame = 0
 631              		@ frame_needed = 0, uses_anonymous_args = 0
 148:source\rtc/rtc.c ****       if (RTC_GetFlagStatus(RTC_FLAG_ALRAF) == SET) {
 632              		.loc 1 148 7 view .LVU189
 147:source\rtc/rtc.c ****       if (RTC_GetFlagStatus(RTC_FLAG_ALRAF) == SET) {
 633              		.loc 1 147 1 is_stmt 0 view .LVU190
 634 0000 10B5     		push	{r4, lr}
 635              		.cfi_def_cfa_offset 8
 636              		.cfi_offset 4, -8
 637              		.cfi_offset 14, -4
 638              		.loc 1 148 11 view .LVU191
 639 0002 4FF48070 		mov	r0, #256
 640 0006 FFF7FEFF 		bl	RTC_GetFlagStatus
 641              	.LVL59:
 642              		.loc 1 148 10 view .LVU192
 643 000a 0128     		cmp	r0, #1
 644              		.loc 1 148 11 view .LVU193
 645 000c 0446     		mov	r4, r0
 646              		.loc 1 148 10 view .LVU194
 647 000e 05D1     		bne	.L19
 149:source\rtc/rtc.c **** 	 RTC_ClearFlag(RTC_FLAG_ALRAF);
 648              		.loc 1 149 3 is_stmt 1 view .LVU195
 649 0010 4FF48070 		mov	r0, #256
 650 0014 FFF7FEFF 		bl	RTC_ClearFlag
 651              	.LVL60:
 150:source\rtc/rtc.c **** 	 rtc_alarm = 1;
 652              		.loc 1 150 3 view .LVU196
 653              		.loc 1 150 13 is_stmt 0 view .LVU197
 654 0018 034B     		ldr	r3, .L20
 655 001a 1C70     		strb	r4, [r3]
 656              	.L19:
 151:source\rtc/rtc.c ****       }
 152:source\rtc/rtc.c ****       EXTI_ClearITPendingBit(EXTI_Line17);
 657              		.loc 1 152 7 is_stmt 1 view .LVU198
 153:source\rtc/rtc.c **** }
 658              		.loc 1 153 1 is_stmt 0 view .LVU199
 659 001c BDE81040 		pop	{r4, lr}
 660              		.cfi_restore 14
 661              		.cfi_restore 4
 662              		.cfi_def_cfa_offset 0
 152:source\rtc/rtc.c **** }
 663              		.loc 1 152 7 view .LVU200
 664 0020 4FF40030 		mov	r0, #131072
 665 0024 FFF7FEBF 		b	EXTI_ClearITPendingBit
 666              	.LVL61:
 667              	.L21:
 668              		.align	2
 669              	.L20:
 670 0028 00000000 		.word	rtc_alarm
 671              		.cfi_endproc
 672              	.LFE130:
 674              		.section	.text.RTC_WKUP_IRQHandler,"ax",%progbits
 675              		.align	1
 676              		.global	RTC_WKUP_IRQHandler
 677              		.syntax unified
 678              		.thumb
 679              		.thumb_func
 681              	RTC_WKUP_IRQHandler:
 682              	.LFB131:
 154:source\rtc/rtc.c **** 
 155:source\rtc/rtc.c **** 
 156:source\rtc/rtc.c **** void RTC_WKUP_IRQHandler (void)
 157:source\rtc/rtc.c **** {
 683              		.loc 1 157 1 is_stmt 1 view -0
 684              		.cfi_startproc
 685              		@ args = 0, pretend = 0, frame = 0
 686              		@ frame_needed = 0, uses_anonymous_args = 0
 158:source\rtc/rtc.c ****       if (RTC_GetFlagStatus(RTC_FLAG_WUTF) == SET) {
 687              		.loc 1 158 7 view .LVU202
 157:source\rtc/rtc.c ****       if (RTC_GetFlagStatus(RTC_FLAG_WUTF) == SET) {
 688              		.loc 1 157 1 is_stmt 0 view .LVU203
 689 0000 10B5     		push	{r4, lr}
 690              		.cfi_def_cfa_offset 8
 691              		.cfi_offset 4, -8
 692              		.cfi_offset 14, -4
 693              		.loc 1 158 11 view .LVU204
 694 0002 4FF48060 		mov	r0, #1024
 695 0006 FFF7FEFF 		bl	RTC_GetFlagStatus
 696              	.LVL62:
 697              		.loc 1 158 10 view .LVU205
 698 000a 0128     		cmp	r0, #1
 699              		.loc 1 158 11 view .LVU206
 700 000c 0446     		mov	r4, r0
 701              		.loc 1 158 10 view .LVU207
 702 000e 05D1     		bne	.L23
 159:source\rtc/rtc.c **** 	 RTC_ClearFlag(RTC_FLAG_WUTF);
 703              		.loc 1 159 3 is_stmt 1 view .LVU208
 704 0010 4FF48060 		mov	r0, #1024
 705 0014 FFF7FEFF 		bl	RTC_ClearFlag
 706              	.LVL63:
 160:source\rtc/rtc.c ****          rtc_wkup = 1;
 707              		.loc 1 160 10 view .LVU209
 708              		.loc 1 160 19 is_stmt 0 view .LVU210
 709 0018 034B     		ldr	r3, .L24
 710 001a 1C70     		strb	r4, [r3]
 711              	.L23:
 161:source\rtc/rtc.c ****       }
 162:source\rtc/rtc.c ****       EXTI_ClearITPendingBit(EXTI_Line22);
 712              		.loc 1 162 7 is_stmt 1 view .LVU211
 163:source\rtc/rtc.c **** }
 713              		.loc 1 163 1 is_stmt 0 view .LVU212
 714 001c BDE81040 		pop	{r4, lr}
 715              		.cfi_restore 14
 716              		.cfi_restore 4
 717              		.cfi_def_cfa_offset 0
 162:source\rtc/rtc.c **** }
 718              		.loc 1 162 7 view .LVU213
 719 0020 4FF48000 		mov	r0, #4194304
 720 0024 FFF7FEBF 		b	EXTI_ClearITPendingBit
 721              	.LVL64:
 722              	.L25:
 723              		.align	2
 724              	.L24:
 725 0028 00000000 		.word	rtc_wkup
 726              		.cfi_endproc
 727              	.LFE131:
 729              		.section	.text.RTC_Get_Week,"ax",%progbits
 730              		.align	1
 731              		.global	RTC_Get_Week
 732              		.syntax unified
 733              		.thumb
 734              		.thumb_func
 736              	RTC_Get_Week:
 737              	.LVL65:
 738              	.LFB132:
 164:source\rtc/rtc.c **** 
 165:source\rtc/rtc.c **** 
 166:source\rtc/rtc.c **** unsigned char RTC_Get_Week (unsigned short year,unsigned char month,unsigned char day)
 167:source\rtc/rtc.c **** {
 739              		.loc 1 167 1 is_stmt 1 view -0
 740              		.cfi_startproc
 741              		@ args = 0, pretend = 0, frame = 0
 742              		@ frame_needed = 0, uses_anonymous_args = 0
 168:source\rtc/rtc.c ****       unsigned short temp2;
 743              		.loc 1 168 7 view .LVU215
 169:source\rtc/rtc.c ****       unsigned char yearH,yearL;
 744              		.loc 1 169 7 view .LVU216
 170:source\rtc/rtc.c ****       yearH = year / 100;
 745              		.loc 1 170 7 view .LVU217
 171:source\rtc/rtc.c ****       yearL = year % 100;
 746              		.loc 1 171 7 view .LVU218
 747              		.loc 1 171 13 is_stmt 0 view .LVU219
 748 0000 6423     		movs	r3, #100
 167:source\rtc/rtc.c ****       unsigned short temp2;
 749              		.loc 1 167 1 view .LVU220
 750 0002 10B5     		push	{r4, lr}
 751              		.cfi_def_cfa_offset 8
 752              		.cfi_offset 4, -8
 753              		.cfi_offset 14, -4
 754              		.loc 1 171 13 view .LVU221
 755 0004 B0FBF3F4 		udiv	r4, r0, r3
 756 0008 03FB1400 		mls	r0, r3, r4, r0
 757              	.LVL66:
 172:source\rtc/rtc.c ****       if (yearH > 19) yearL += 100;
 758              		.loc 1 172 10 view .LVU222
 759 000c E4B2     		uxtb	r4, r4
 171:source\rtc/rtc.c ****       yearL = year % 100;
 760              		.loc 1 171 13 view .LVU223
 761 000e C3B2     		uxtb	r3, r0
 762              	.LVL67:
 763              		.loc 1 172 7 is_stmt 1 view .LVU224
 764              		.loc 1 172 10 is_stmt 0 view .LVU225
 765 0010 132C     		cmp	r4, #19
 766              		.loc 1 172 23 is_stmt 1 view .LVU226
 767              		.loc 1 172 29 is_stmt 0 view .LVU227
 768 0012 84BF     		itt	hi
 769 0014 6433     		addhi	r3, r3, #100
 770              	.LVL68:
 771              		.loc 1 172 29 view .LVU228
 772 0016 DBB2     		uxtbhi	r3, r3
 773              	.LVL69:
 173:source\rtc/rtc.c ****       temp2 = yearL + yearL / 4;
 774              		.loc 1 173 7 is_stmt 1 view .LVU229
 775              		.loc 1 173 13 is_stmt 0 view .LVU230
 776 0018 03EB9300 		add	r0, r3, r3, lsr #2
 777              	.LVL70:
 174:source\rtc/rtc.c ****       temp2 = temp2 % 7;
 778              		.loc 1 174 7 is_stmt 1 view .LVU231
 779              		.loc 1 174 13 is_stmt 0 view .LVU232
 780 001c 0724     		movs	r4, #7
 781 001e B0FBF4F4 		udiv	r4, r0, r4
 782 0022 C4EBC404 		rsb	r4, r4, r4, lsl #3
 783 0026 001B     		subs	r0, r0, r4
 784              	.LVL71:
 175:source\rtc/rtc.c ****       temp2 = temp2 + day + table_week[month - 1];
 785              		.loc 1 175 7 is_stmt 1 view .LVU233
 786              		.loc 1 175 39 is_stmt 0 view .LVU234
 787 0028 0D4C     		ldr	r4, .L30
 788 002a 0C44     		add	r4, r4, r1
 176:source\rtc/rtc.c ****       if (yearL % 4 == 0 && month < 3) temp2--;
 789              		.loc 1 176 10 view .LVU235
 790 002c 9B07     		lsls	r3, r3, #30
 791              	.LVL72:
 175:source\rtc/rtc.c ****       temp2 = temp2 + day + table_week[month - 1];
 792              		.loc 1 175 39 view .LVU236
 793 002e 14F8014C 		ldrb	r4, [r4, #-1]	@ zero_extendqisi2
 175:source\rtc/rtc.c ****       temp2 = temp2 + day + table_week[month - 1];
 794              		.loc 1 175 13 view .LVU237
 795 0032 2244     		add	r2, r2, r4
 796              	.LVL73:
 175:source\rtc/rtc.c ****       temp2 = temp2 + day + table_week[month - 1];
 797              		.loc 1 175 13 view .LVU238
 798 0034 12FA80F0 		uxtah	r0, r2, r0
 799              	.LVL74:
 175:source\rtc/rtc.c ****       temp2 = temp2 + day + table_week[month - 1];
 800              		.loc 1 175 13 view .LVU239
 801 0038 80B2     		uxth	r0, r0
 802              	.LVL75:
 803              		.loc 1 176 7 is_stmt 1 view .LVU240
 804              		.loc 1 176 10 is_stmt 0 view .LVU241
 805 003a 04D1     		bne	.L28
 806              		.loc 1 176 26 discriminator 1 view .LVU242
 807 003c 0229     		cmp	r1, #2
 808              		.loc 1 176 40 is_stmt 1 discriminator 1 view .LVU243
 809              		.loc 1 176 45 is_stmt 0 discriminator 1 view .LVU244
 810 003e 9CBF     		itt	ls
 811 0040 00F1FF30 		addls	r0, r0, #-1
 812              	.LVL76:
 813              		.loc 1 176 45 discriminator 1 view .LVU245
 814 0044 80B2     		uxthls	r0, r0
 815              	.LVL77:
 816              	.L28:
 177:source\rtc/rtc.c ****       temp2 %= 7;
 817              		.loc 1 177 7 is_stmt 1 view .LVU246
 818              		.loc 1 177 13 is_stmt 0 view .LVU247
 819 0046 0723     		movs	r3, #7
 820 0048 B0FBF3F3 		udiv	r3, r0, r3
 821 004c C3EBC303 		rsb	r3, r3, r3, lsl #3
 822 0050 C01A     		subs	r0, r0, r3
 823              	.LVL78:
 824              		.loc 1 177 13 view .LVU248
 825 0052 80B2     		uxth	r0, r0
 826              	.LVL79:
 178:source\rtc/rtc.c ****       if (temp2 == 0) temp2 = 7;
 827              		.loc 1 178 7 is_stmt 1 view .LVU249
 828              		.loc 1 178 29 is_stmt 0 view .LVU250
 829 0054 0028     		cmp	r0, #0
 830 0056 08BF     		it	eq
 831 0058 0720     		moveq	r0, #7
 832              	.LVL80:
 179:source\rtc/rtc.c ****       return temp2;
 833              		.loc 1 179 7 is_stmt 1 view .LVU251
 180:source\rtc/rtc.c **** }
 834              		.loc 1 180 1 is_stmt 0 view .LVU252
 835 005a C0B2     		uxtb	r0, r0
 836              	.LVL81:
 837              		.loc 1 180 1 view .LVU253
 838 005c 10BD     		pop	{r4, pc}
 839              	.L31:
 840 005e 00BF     		.align	2
 841              	.L30:
 842 0060 00000000 		.word	table_week
 843              		.cfi_endproc
 844              	.LFE132:
 846              		.global	table_week
 847              		.section	.rodata.table_week,"a"
 850              	table_week:
 851 0000 00030306 		.ascii	"\000\003\003\006\001\004\006\002\005\000\003\005"
 851      01040602 
 851      05000305 
 852              		.global	rtc_wkup
 853              		.section	.bss.rtc_wkup,"aw",%nobits
 856              	rtc_wkup:
 857 0000 00       		.space	1
 858              		.global	rtc_alarm
 859              		.section	.bss.rtc_alarm,"aw",%nobits
 862              	rtc_alarm:
 863 0000 00       		.space	1
 864              		.text
 865              	.Letext0:
 866              		.file 2 "c:\\program files (x86)\\arm gnu toolchain arm-none-eabi\\12.2 mpacbti-rel1\\arm-none-eab
 867              		.file 3 "c:\\program files (x86)\\arm gnu toolchain arm-none-eabi\\12.2 mpacbti-rel1\\arm-none-eab
 868              		.file 4 "c:/project/stm32fx_iolib/stm32fxxx/stm32f4xx/stm32f4xx.h"
 869              		.file 5 "c:/project/stm32fx_iolib/stm32f4x_iolib/include/misc.h"
 870              		.file 6 "c:/project/stm32fx_iolib/stm32f4x_iolib/include/stm32f4xx_exti.h"
 871              		.file 7 "c:/project/stm32fx_iolib/stm32f4x_iolib/include/stm32f4xx_rtc.h"
 872              		.file 8 "c:/project/stm32fx_iolib/stm32f4x_iolib/include/stm32f4xx_rcc.h"
 873              		.file 9 "source\\rtc\\../prototype.h"
 874              		.file 10 "c:/project/stm32fx_iolib/stm32f4x_iolib/include/stm32f4xx_pwr.h"
DEFINED SYMBOLS
                            *ABS*:00000000 rtc.c
C:\Users\37593\AppData\Local\Temp\cc56BMSF.s:21     .text.RTC_Set_Time:00000000 $t
C:\Users\37593\AppData\Local\Temp\cc56BMSF.s:27     .text.RTC_Set_Time:00000000 RTC_Set_Time
C:\Users\37593\AppData\Local\Temp\cc56BMSF.s:70     .text.RTC_Set_Date:00000000 $t
C:\Users\37593\AppData\Local\Temp\cc56BMSF.s:76     .text.RTC_Set_Date:00000000 RTC_Set_Date
C:\Users\37593\AppData\Local\Temp\cc56BMSF.s:119    .text.RTC_Get_Time:00000000 $t
C:\Users\37593\AppData\Local\Temp\cc56BMSF.s:125    .text.RTC_Get_Time:00000000 RTC_Get_Time
C:\Users\37593\AppData\Local\Temp\cc56BMSF.s:183    .text.RTC_Get_Date:00000000 $t
C:\Users\37593\AppData\Local\Temp\cc56BMSF.s:189    .text.RTC_Get_Date:00000000 RTC_Get_Date
C:\Users\37593\AppData\Local\Temp\cc56BMSF.s:247    .text.rtc_init:00000000 $t
C:\Users\37593\AppData\Local\Temp\cc56BMSF.s:253    .text.rtc_init:00000000 rtc_init
C:\Users\37593\AppData\Local\Temp\cc56BMSF.s:387    .text.RTC_Set_AlarmA:00000000 $t
C:\Users\37593\AppData\Local\Temp\cc56BMSF.s:393    .text.RTC_Set_AlarmA:00000000 RTC_Set_AlarmA
C:\Users\37593\AppData\Local\Temp\cc56BMSF.s:513    .text.RTC_Set_AlarmA:0000008c $d
C:\Users\37593\AppData\Local\Temp\cc56BMSF.s:518    .text.RTC_Set_WakeUp:00000000 $t
C:\Users\37593\AppData\Local\Temp\cc56BMSF.s:524    .text.RTC_Set_WakeUp:00000000 RTC_Set_WakeUp
C:\Users\37593\AppData\Local\Temp\cc56BMSF.s:615    .text.RTC_Set_WakeUp:00000064 $d
C:\Users\37593\AppData\Local\Temp\cc56BMSF.s:620    .text.RTC_Alarm_IRQHandler:00000000 $t
C:\Users\37593\AppData\Local\Temp\cc56BMSF.s:626    .text.RTC_Alarm_IRQHandler:00000000 RTC_Alarm_IRQHandler
C:\Users\37593\AppData\Local\Temp\cc56BMSF.s:670    .text.RTC_Alarm_IRQHandler:00000028 $d
C:\Users\37593\AppData\Local\Temp\cc56BMSF.s:862    .bss.rtc_alarm:00000000 rtc_alarm
C:\Users\37593\AppData\Local\Temp\cc56BMSF.s:675    .text.RTC_WKUP_IRQHandler:00000000 $t
C:\Users\37593\AppData\Local\Temp\cc56BMSF.s:681    .text.RTC_WKUP_IRQHandler:00000000 RTC_WKUP_IRQHandler
C:\Users\37593\AppData\Local\Temp\cc56BMSF.s:725    .text.RTC_WKUP_IRQHandler:00000028 $d
C:\Users\37593\AppData\Local\Temp\cc56BMSF.s:856    .bss.rtc_wkup:00000000 rtc_wkup
C:\Users\37593\AppData\Local\Temp\cc56BMSF.s:730    .text.RTC_Get_Week:00000000 $t
C:\Users\37593\AppData\Local\Temp\cc56BMSF.s:736    .text.RTC_Get_Week:00000000 RTC_Get_Week
C:\Users\37593\AppData\Local\Temp\cc56BMSF.s:842    .text.RTC_Get_Week:00000060 $d
C:\Users\37593\AppData\Local\Temp\cc56BMSF.s:850    .rodata.table_week:00000000 table_week
C:\Users\37593\AppData\Local\Temp\cc56BMSF.s:857    .bss.rtc_wkup:00000000 $d
C:\Users\37593\AppData\Local\Temp\cc56BMSF.s:863    .bss.rtc_alarm:00000000 $d

UNDEFINED SYMBOLS
RTC_SetTime
RTC_SetDate
RTC_GetTime
RTC_GetDate
RCC_APB1PeriphClockCmd
PWR_BackupAccessCmd
RTC_ReadBackupRegister
RCC_LSEConfig
RCC_GetFlagStatus
RCC_RTCCLKConfig
RCC_RTCCLKCmd
RTC_Init
RTC_WriteBackupRegister
wait_ms
RTC_AlarmCmd
RTC_SetAlarm
RTC_ClearITPendingBit
EXTI_ClearITPendingBit
RTC_ITConfig
EXTI_Init
NVIC_Init
RTC_WakeUpCmd
RTC_WakeUpClockConfig
RTC_SetWakeUpCounter
RTC_GetFlagStatus
RTC_ClearFlag
